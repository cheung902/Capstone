<!DOCTYPE html>
<html>
<head>
    <title>PDF Result</title>
    <link rel="stylesheet" href="css/pdf_view.css">
    <script src="js/pdf_view.js"></script>
    <script src="https://kit.fontawesome.com/1602f398c5.js" crossorigin="anonymous"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
</head>
<body>

<div class="topnav">
    <button class="openSideBar_btn" onclick="openNav()"><i class="fas fa-bars"></i></button>
    <a class="active" href="/upload.html">OCR Solution</a>
    <button class="help-button" ><i class="far fa-question-circle"></i></button>
</div>

<div class="class_sideBar" id = "id_sideBar" style="width:0">
    <!--<a href="javascript:void(0)" class="closeSideBar_btn" onclick="closeNav()">Ã—</a>-->
    <div class = "sideBar_tabs">
        <button type="button" class ="tab_button"><i class="fas fa-cloud-upload-alt"></i> Upload Documents</button>
    </div>
    <div class = "sideBar_tabs">
        <button type="button" class ="tab_button" id="process_tabs"><i class="fas fa-microchip"></i> Processor</button>
        <div class="process_subTabs">
            <button type="button" class ="tab_button" id="full_view_tab"><i class="far fa-eye"></i> Full View Comparison</button>
            <button type="button" class ="tab_button" id="comparison_report_tab"><i class="fas fa-book-open"></i> Comparison Report</button>
        </div>
    </div>
</div>

<div id="main_view">

    <div class="full_view">
        <div>
            <iframe id="comp"
                    width="50%"
                    height="750px"
                    style="border: none;"
                    align="left"></iframe>
        </div>
        <div>
            <iframe id="ori"
                    width="50%"
                    height="750px"
                    style="border: none;"></iframe>
        </div>
    </div>

    <div class="comparison_report">
        <div class="comparison_report_header">
            <p>{{process_datetime}}</p>
            <h1>Comparison Report</h1>
        </div>
        <div class="general_info">
            <div class="general_info_column" id="compare_file">
                <b>Compare File:</b>
                <p>{{comp_filename}}</p>
                <p>{{comp_max_page}} pages ({{comp_size}} KB)</p>
                <p>8/5/2016 3:27:37 PM</p>
            </div>

            <div class="general_info_column" id="ori_file">
                <b>Original File:</b>
                <p>{{ori_filename}}</p>
                <p>{{ori_max_page}} pages ({{ori_size}} KB)</p>
                <p>8/5/2016 3:31:55 PM</p>
            </div>
        </div>
        <div class="metrics">
            <div class="metrics_column" id="metrics_total_changes">
                <div><b>Total Changes</b></div>
                <div class="metrics_circle">
                    <svg id="circle">
                        <circle id="deletion_pct" r="140" cx="50%" cy="50%" stroke="red" fill="none" stroke-width="10" stroke-linecap="round" stroke-dasharray="880,880">
                        </circle>
                        <circle id="insertion_pct" r="140" cx="50%" cy="50%" stroke="green" fill="none" stroke-width="10" stroke-linecap="round" stroke-dasharray={{insertion_radius}}>
                        </circle>
                    </svg>
                    <div style="position: relative;">
                        <div id="total_changes_num">{{total_changes}}</div>
                    </div>
                </div>

            </div>
            <div class="metrics_column" id="metrics_Content">
                <div class="metrics_Content_title">
                    <b>Content</b>
                </div>
                <div class="metrics_Content_block">
                    <span class="metrics_Content_num" id="insert_num">{{insertion_num}}</span>
                    <span>Insertions</span>
                </div>
                <div class="metrics_Content_block">
                    <span class="metrics_Content_num" id="delete_num">{{deletion_num}}</span>
                    <span>Deletions</span>
                </div>
            </div>
        </div>
    </div>

</div>
    <script>
        var d = new Date().getTime();
        console.log(d);
        document.getElementById("comp").src = "viewer/web/viewer.html?file=comp.pdf?rnd=" + d;
        document.getElementById("ori").src = "viewer/web/viewer.html?file=ori.pdf?rnd=" + d;
        console.log(document.getElementById("ori").src);

        $(document).ready(function(){

        $(".comparison_report").hide();

        $("#process_tabs").click(function(){
        $(".process_subTabs").toggle();
        });

        $("#full_view_tab").click(function(){
        $(".comparison_report").hide();
        $(".full_view").show();
        });

        $("#comparison_report_tab").click(function(){
        $(".full_view").hide();
        $(".comparison_report").show();
        });

        });
    </script>


</body>
</html>