<!DOCTYPE html>
<html>
<head>
    <title>Upload Image</title>
    <link id="page_style" rel="stylesheet" href="css/upload_style.css">
    <script src="https://kit.fontawesome.com/1602f398c5.js" crossorigin="anonymous"></script>
</head>
<body>

<div id="upload_page">
    <div class="topnav" id="id_topnav">
        <button class="openSideBar_btn" onclick="openNav()"><i class="fas fa-bars"></i></button>
        <a class="active" href="/upload.html">OCR Solution</a>
        <button class="help-button" ><i class="far fa-question-circle"></i></button>
    </div>

    <div class="class_main_view" id="main_view">
        <div class="class_sideBar" id = "id_sideBar" style="width:0">
            <!--<a href="javascript:void(0)" class="closeSideBar_btn" onclick="closeNav()">Ã—</a>-->
            <div class = "sideBar_tabs">
                <button type="button" class ="tab_button"><i class="fas fa-cloud-upload-alt"></i> Upload Documents</button>
            </div>
            <div class = "sideBar_tabs">
                <button type="button" class ="tab_button" id="process_tabs"><i class="fas fa-microchip"></i> Processor</button>
            </div>
        </div>

        <div id = "full_view">
            <a href = "/sample.html" class = "sample_comparison">See a sample comparison</a>
            <div>
                <form method="post" enctype=multipart/form-data id="form_upload">
                        <div id="upload_block">
                            <div class="column" id="column_left">
                                <div id="comp_before_upload">
                                    <div class="column_describe">
                                        <span class="upload_icon"><i class="fas fa-upload"></i></span>
                                        <div class="column_describe_text">
                                            <div><b>New File</b></div>
                                            <div><b>Select a newer file here</b></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="comp_after_upload" class="class_comp_after_upload">
                                    <div class="column_describe">
                                        <span class="upload_icon"><i class="far fa-file-pdf"></i></span>
                                        <div class="column_describe_text">
                                            <div><p id="comp_filename">Filename</p></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="column_upload">
                                    <input type=file id="upload_compare" name=comp_file onchange="comp_uploaded(this);" hidden>
                                    <label for="upload_compare">Compare File</label>
                                </div>
                            </div>
                            <div class="column" id="column_right">
                                <div id="ori_before_upload">
                                    <div class="column_describe">
                                        <span class="upload_icon"><i class="fas fa-upload"></i></span>
                                        <div class="column_describe_text">
                                            <div><b>Old File</b></div>
                                            <div><b>Select an older file here</b></div>
                                        </div>
                                    </div>
                                </div>
                                <div id="ori_after_upload">
                                    <div class="column_describe">
                                        <span class="upload_icon"><i class="far fa-file-pdf"></i></span>
                                        <div class="column_describe_text">
                                            <div><p id="ori_filename">Filename</p></div>
                                        </div>
                                    </div>
                                </div>
                                <div class="column_upload">
                                    <input type=file id="upload_ori" name=ori_file onchange="ori_uploaded(this);" hidden>
                                    <label for="upload_ori">Original File</label>
                                </div>
                            </div>
                        </div>
                    <div id="submit_div">
                        <button type=submit name=upload value=submit class="submit_button" id="id-submit-btn">Compare</button>
                    </div>
                </form>
            </div>
        </div>
    </div>
    <div id="id-functions" class="class-functions">

        <div class="functions-content">
            <span class="functions-close" id="id-functions-close">&times;</span>
            <div class="functions-header">
                    <h2>Comparing Options</h2>
            </div>
            <form method="post" enctype=multipart/form-data class="functions_form">
                <input type="checkbox" id="id_case_diff" name="name_case_diff" value="True">
                <label for="id_case_diff">Case Sensitive</label><br>
                <label for="language">Language Options</label><br>
                <select id="language" name="name_language" multiple>
                    <option value="eng">English</option>
                    <option value="chi_tra">Traditional Chinese</option>
                    <option value="chi_sim">Simplified Chinese</option>
                </select>
                <input type="submit" name=upload value="filter" onclick="start_ocr()">
            </form>
        </div>
    </div>
</div>

<!-- <div id="loading_page">
    <div id="loading_content">
        <div class="loading">
            <div class="bounceball"></div>
            <div class="text">Comparing</div>
        </div>
    </div>
</div> -->

<div id="loading_page">
    <div class="loader">
      <div class="box box0">
        <div></div>
      </div>
      <div class="box box1">
        <div></div>
      </div>
      <div class="box box2">
        <div></div>
      </div>
      <div class="box box3">
        <div></div>
      </div>
      <div class="box box4">
        <div></div>
      </div>
      <div class="box box5">
        <div></div>
      </div>
      <div class="box box6">
        <div></div>
      </div>
      <div class="box box7">
        <div></div>
      </div>
      <div class="ground">
        <div></div>
      </div>
    </div>
  <small>Weird Google Chrome Bug, you'll need to hover the body to make sure all is rendered - anyone knows a solution?</small>
  <a class="dribbble" href="https://dribbble.com/shots/7227469-3D-Boxes-Loader" target="_blank"><img src="https://dribbble.com/assets/logo-small-2x-9fe74d2ad7b25fba0f50168523c15fda4c35534f9ea0b1011179275383035439.png"/></a>
  </div>
    {% if error == "no_file" %}
        <script>
            alert("Please make sure to upload both files to do the comparison")
        </script>
    {% elif error == "file_format" %}
        <script>
            alert("File format in one of the files is not supported")
        </script>
    {% endif %}

    <script src="js/upload.js"></script>
</body>
</html>